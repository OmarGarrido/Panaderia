<div style="text-align: center">
    <table class="table table-hover" style="min-height: 57.7vh">
        <thead>
            <tr class="table-primary">
                <th>ID Provedor</th>
                <th sortable="nombre" (sort)="onSort($event)">Nombre de producto</th>
                <th sortable="tipo" (sort)="onSort($event)">Tipo</th>
                <th sortable="precio" (sort)="onSort($event)">Precio</th>
                <th>Operaciones</th>
            </tr>
        </thead>
        <tbody>
            <tr class="table" *ngFor="let item of collection.data | paginate: config">
                <td>{{ item.id_provedor }}</td>
                <td>{{ item.nombre }}</td>
                <td>{{ item.tipo }}</td>
                <td>{{ item.precio }}</td>
                <td>
                    <!-- <button type="button" class="btn btn-danger" (click)="eliminar(item)">Eliminar</button> -->
                    <button type="button" class="btn btn-primary" (click)="editar(content, item)">
                        Editar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>

    <!-- Todo esto es el html del Modal (ventana emergente) -->
    <ng-template #content let-modal>
        <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">
                Crear/Actualizar Producto
            </h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <form>
                <div class="form-group">
                    <form [formGroup]="productosForm">
                        <div class="form-group">
                            <strong><label for="">Nombre de producto</label></strong>
                            <input type="text" formControlName="nombre" class="form-control" />
                        </div>

                        <div class="form-group">
                            <strong><label for="">Tipo</label></strong>
                            <select class="form-select" formControlName="tipo">
                                <option *ngFor="let op of options" [ngValue]="op">{{op}}</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <strong><label for="">Provedor</label></strong>
                            <select class="form-select" formControlName="id_provedor">
                                <option value="">Selecciona provedor</option>
                                <option *ngFor="let provedor of provedores" [ngValue]="provedor.id_provedor">
                                    {{provedor.nombre}} {{provedor.apellido_p}} {{provedor.apellido_m}}
                                </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <strong><label for="">Precio</label></strong>
                            <input type="number" formControlName="precio" class="form-control" />
                        </div>

                    </form>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button *ngIf="updSave == false" type="button" class="btn btn-success" (click)="guardar()">
                Guardar
            </button>
            <button *ngIf="updSave == true" type="button" class="btn btn-info" (click)="actualizar()">
                Actualizar
            </button>
        </div>
    </ng-template>

    <button type="button" class="btn btn-primary" (click)="nuevo(content)">
        AÃ±adir Nuevo Producto
    </button>
</div>